<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<title>Space Trail</title>

	<link href="https://fonts.googleapis.com/css?family=Alegreya+Sans+SC:100,400|Jura:700" rel="stylesheet">

	<link rel="stylesheet" href="../css/style.css">

	<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>

	<script>
		$(function(){
			function conlog(print){
				console.log(print);
			}
			var player = [];

			var farmer = [job = "Meteorite Farmer", startmoney = 1000, ];
			var engineer = [job = "Spaceship Engineer", startmoney = 1500];
			var moneybags = [job = "Moneybags", startmoney = 2000];
			var supplyCost = [
				fuel = 50,
				food = 20,
				ammo = 20,
				parts = 100
			];
			var money = 0;
			var numOfParts = 0, numOfFuel = 0, numOfFood = 0, numOfAmmo = 0;
			var costOfItems = 0;
			var oldBillParts = 0, oldBillFuel = 0, oldBillFood = 0, oldBillAmmo = 0;
			var storeBill = 0;
			var storeTotal = 0;

			var startCounter = false;
			var counter = 0;

			var screenCount = 0;
			var docHeight = $("body").height();
			var mainMargin = 0;

			var weather = "perfect";
			var weatherOpt = ["heated", "freezing", "fair", "perfect"];
			var pace = "quick";
			var paceOpt = ["stopped", "slow", "moderate", "quick", "fast"];
			var health = 5;
			var rations = 0;
			var ammo = 0;
			var fuel = 0;
			var day = 1;

			var diceOne = 0;
			var diceTwo = 0;
			var ranEnDice = 0;
			var encounter = 0;

			// console.log(farmer);
			// console.log(engineer);
			// console.log(moneybags);

//functions
			function addJob(job){
				player = $.merge([],job);
				console.log(player);
				$("span.money").text(player[1]);
			};

			function addMembers(num){
				var inputMember = $("input[name = " + num + "]").val();
				var name  = [num = inputMember];
				player = $.merge(player,name);
			}
player[7] = "April";
			function updateMonth(){
				$("span.month").text(player[7]);
				$("span.day").text(day);
				// console.log(player[7]);
				day++;
				if(player[7] == "April" && day > 30){
					player[7] = "May";
					day = 1;
				} else if(player[7] == "May" && day > 31){
					player[7] = "June";
					day = 1;
				} else if(player[7] == "June" && day > 30){
					player[7] = "July";
					day = 1;
				} else if(player[7] == "July" && day > 31){
					player[7] = "August";
					day = 1;
				} else if(player[7] == "August" && day > 31){
					player[7] = "September";
					day = 1;
				} else if(player[7] == "September" && day > 30){
					player[7] = "October";
					day = 1;
				} else if(player[7] == "October" && day > 31){
					player[7] = "November";
					day = 1;
				} else if(player[7] == "November" && day > 30){
					player[7] = "Decmeber";
					day = 1;
				} else if(player[7] == "Decmeber" && day > 31){
					player[7] = "January";
					day = 1;
				} else if(player[7] == "January" && day > 31){
					player[7] = "Febuary";
					day = 1;
				} else if(player[7] == "Febuary" && day > 28){
					player[7] = "March";
					day = 1;
				} else if(player[7] == "March" && day > 31){
					player[7] = "April";
					day = 1;
				} 
				conlog("day:" + day);
			}

			function storeBilling(bill){
				storeBill -= bill;
				storeBill += costOfItems;
				storeTotal = money - storeBill;
				console.log("bill: " + storeBill);
				console.log("total: " + storeTotal);
				$("span.bill").text(storeBill);
				$("span.total").text(storeTotal);
				if(storeTotal >= 0){
					$(".exitStore").show();
				} else if(storeTotal < 0){
					$(".exitStore").hide();
				}
			}

			// function step(){
			// 	console.log(counter);
			// 	counter++;
			// 	console.log(counter);
			// 	if(counter > 129600) t = 0;
			// 	window.requestAnimationFrame(step);

			// 	//20 chances for randomness
			// }

			function addToConsole(text){
				$(".progressConsole").append("<p>" + text + "</p>");
			}

			function encounterSituations(){
				if(encounter == 0){
					addToConsole("You travel a days worth");
					//when have time do animation of getting closer to location
				} else if(encounter == 1){
					addToConsole("ARRRRRRRGH! Pirates have stormed the ship!");
					addToConsole("The space pirates demand §500 or else!");
					addToConsole("What will you do?");
					$(".travel").hide();
					$(".twoChoices .one").text("Attack!");
					$(".twoChoices .two").text("Give In");
					$(".twoChoices").show();
					$(".twoChoices .one").click(function(){
						if(ammo > 0){
							diceOne = Math.ceil( ( Math.random() * 10) );
							conlog("Dice roll:" + diceOne);
							if(diceOne >= 6){
								addToConsole("Your gunslinging ways superior to the space pirates and they run away!");
								$(".travel").show();
								$(".twoChoices").hide();
							} else {
								addToConsole("The space pirates draw their laser guns before you're able to!");
								addToConsole("They loot §500 and 100lbs of food because of the trouble you caused.");
								money -= 500;
								rations -= 100;
								$("span.money").text(money);
								$("span.food").text(rations);
								$(".travel").show();
								$(".twoChoices").hide();
							}
						} else {
							addToConsole("You have no ammo! What will you do?");
							$(".twoChoices .one").text("Bluff!");
							$(".twoChoices .one").addClass("bluff");
							$(".twoChoices .bluff").removeClass("one");

						}
						$(".twoChoices .bluff").click(function(){
							diceOne = Math.ceil( ( Math.random() * 10) );
							if( diceOne < 6){
								addToConsole("They believe you and back off only taking §10.");
								money -= 10;
								$("span.money").text(money);
								$(".twoChoices .bluff").addClass("one").removeClass("bluff");
								$(".twoChoices").hide();
								$(".travel").show();
							} else{
								addToConsole("They laugh when they realize there's no ammo and take §700 instead.");
								money -= 700;
								$("span.money").text(money);
								$(".twoChoices .bluff").addClass("one").removeClass("bluff");
								$(".twoChoices").hide();
								$(".travel").show();
							}
						});

					});



				} else if(encounter == 2){
					addToConsole("Space whales pass by and sooth your soul");
				} else if(encounter == 3){
					addToConsole("Woaahhh! Woaahhh! Time Warp sends you back three days!");
				} else if(encounter == 4){
					addToConsole("You see poop in space. That was weird.");
				} else if(encounter == 5){
					addToConsole("Asteroids fly by but you make it out unscathed! Thank the space lords!");
				} else if(encounter == 6){
					addToConsole(player[4] + " gets space mites and dies!");
				} else if(encounter == 7){
					addToConsole("Weasles! Weasles! SPACE WEASLES! They are in the suits! AHHHHH! " + player[5] + " dies from an infected bite.");
				} else if(encounter == 8){
					addToConsole("Space Pigeons are found in the storage area. They have eaten all the food but now you have space pigeons to eat.");
				} else if(encounter == 9){
					addToConsole("You catch flotsam passing by your ship. You inspect it closer. NEVERMIND IT'S SPACE WHALE POOP! NOOOOOOO!");
				} else if(encounter == 10){
					addToConsole("You wish on a falling star. What a beautiful time.");
				}
			}

			function paceChange(clickPace){
				$("." + clickPace).click(function(){
					pace = clickPace;
					$(".pace-container h4").css({'color':'#ffffff'});
					$(this).css({'color':'#2dfffe'});
				});
			}


//next
			$(".next").click(function(){
				screenCount++;
				// console.log(docHeight);
				mainMargin += docHeight;
				$(".atMain").css('marginTop',  -mainMargin);
				// console.log(mainMargin);
			});

//jobs
			$(".farmer").click(function(){
				addJob(farmer);
				money = 1000;
			});
			$(".engineer").click(function(){
				addJob(engineer);
				money = 1500;
			});
			$(".moneybags").click(function(){
				addJob(moneybags);
				money = 2000;
			});


//names
			$(".leaderName").click(function(){
				var inputLeader = $("input[name = 'captain']").val();
				var name = [leader = inputLeader];
				player = $.merge(player,name);
				console.log(player);
			});

			$(".memberName").click(function(){
				var inputMember = $("input[name = 'member1']").val();
				var name  = [member1 = inputMember];
				player = $.merge(player,name);
				inputMember = $("input[name = 'member2']").val();
				name  = [member2 = inputMember];
				player = $.merge(player,name);
				inputMember = $("input[name = 'member3']").val();
				name  = [member3 = inputMember];
				player = $.merge(player,name);
				inputMember = $("input[name = 'member4']").val();
				name  = [member4 = inputMember];
				player = $.merge(player,name);
				console.log(player);
			});

//month
			$(".april").click(function(){
				player[7] = 'April';
				updateMonth();
			});
			$(".may").click(function(){
				player[7] = 'May';
				updateMonth();
			});
			$(".june").click(function(){
				player[7] = 'June';
				updateMonth();
			});
			$(".july").click(function(){
				player[7] = 'July';
				updateMonth();
			});

//shop
			money = 2000;
			// // money = parseInt(player[1]);
			$("span.money").text(money);

			$("input[name = 'parts']").change(function(){
				numOfParts = $("input[name = 'parts']").val();
				costOfItems = 100 * numOfParts;
				storeBilling(oldBillParts);
				oldBillParts = costOfItems;
			});
			$("input[name = 'fuel']").change(function(){
				numOfFuel = $("input[name = 'fuel']").val();
				costOfItems = 50 * numOfFuel;
				storeBilling(oldBillFuel);
				oldBillFuel = costOfItems;
			});
			$("input[name = 'food']").change(function(){
				numOfFood = $("input[name = 'food']").val();
				costOfItems = 20 * numOfFood;
				storeBilling(oldBillFood);
				oldBillFood = costOfItems;
			});
			$("input[name = 'ammo']").change(function(){
				numOfAmmo = $("input[name = 'ammo']").val();
				costOfItems = 20 * numOfAmmo;
				storeBilling(oldBillAmmo);
				oldBillAmmo = costOfItems;
			});
			$(".exitStore").click(function(){

				player[1] = storeTotal;
				player[8] = numOfParts;
				player[9] = numOfFuel;
				player[10] = numOfFood;
				rations = player[10] * 100;
				player[11] = numOfAmmo;
				ammo = player[11] * 2;
				money = storeTotal;
				console.log(player);
			});

rations = 200;
ammo = 2;

			$(".departure").click(function(){
				counter = 0;
				startCounter = true;
				console.log(startCounter);
				$("span.weather").text(weather);
				$("span.pace").text(pace);
				$("span.health").text(health);
				$("span.rations").text(rations);
				$("span.ammo").text(ammo);
				$("span.fuel").text(fuel);
				$(".options").show();
			});

// //counter
			
// 			//Math.ceil rounds up
// 			var diceOne = Math.ceil( ( Math.random() * 10) );
// 			var diceTwo = Math.ceil( ( Math.random() * 10) );
// 			var randomEncounterDice = Math.floor((diceOne + diceTwo)/2);
// 			var encounter = 0;
// 			console.log(diceOne);
// 			console.log(diceTwo);
// 			console.log(randomEncounterDice);
var role = 1;

//day
player[7] = "April";
			$(".traverse").click(function(){
				updateMonth();

				if(pace == "slow"){
					rations -= 5;
					$("span.rations").text(rations)
				} else if(pace == "moderate"){
					rations -= 15;
					$("span.rations").text(rations)
				} else if(pace == "quick"){
					rations -= 30;
					$("span.rations").text(rations)
				} else if(pace == "fast"){
					rations -= 50;
					$("span.rations").text(rations)
				} else{

				}
				
				diceOne = Math.ceil( ( Math.random() * 10) );
				diceTwo = Math.ceil( ( Math.random() * 10) );
				ranEnDice = Math.floor((diceOne + diceTwo)/2);
				if(ranEnDice == diceOne || ranEnDice == diceTwo){
					encounter = Math.ceil( ( Math.random() * 10) );
				}
				encounter = 1;
				encounterSituations();

				$(".progressConsole").stop().animate({
					scrollTop: $(".progressConsole")[0].scrollHeight
				});

				conlog("role:" + role);
				conlog(diceOne);
				conlog(diceTwo);
				conlog(ranEnDice);
				conlog(encounter);
				encounter = 0;
				role++;
			});

//pace
			$(".check-pace").click(function(){
				$(".change-pace").show();
				$(".travel").hide();
				$(".progressConsole").hide();
			});

			paceChange("slow");
			paceChange("moderate");
			paceChange("quick");
			paceChange("fast");
			
			$(".set-pace").click(function(){
				$("span.pace").text(pace);
				$(".change-pace").hide();
				$(".travel").show();
				$(".progressConsole").show();
			})
			
//rations
			$(".check-rations").click(function(){
				$(".change-rations").show();
				$(".travel").hide();
				$(".progressConsole").hide();
			})







		});
	</script>

</head>
<body id="game">
	<div class="atMain">
		<nav>
			<ul>
				<li><a href="#">About</a></li>
				<li><a href="#">Overview</a></li>
				<li><a href="#">FAQ</a></li>
			</ul>
		</nav>
		<!-- <section>
			<div class="card" id="title">
				<div class="info">
					<h1>Space Trail</h1>
					<h4 class="next">Travel the Galaxy</h4>
				</div>
			</div>
		</section>
		<section>
			<div class="card" id="spaceStation">
				<h2>Choose a profession</h2>
				<h4 class="next farmer">Meteorite Farmer</h4>
				<h4 class="next engineer">Spaceship Engineer</h4>
				<h4 class="next moneybags">Moneybags</h4>
			</div>
		</section>
		<section>
			<div class="card" id="nameLeader">
				<h2>What is the name of the Captain?</h2>
				<input type="text" name="captain" value="Capitano" maxlength="10">
				<h4 class="next leaderName">Enter Name</h4>
			</div>
		</section>
		<section>
			<div class="card" id="nameMembers">
				<h2>What are the names of the other members?</h2>
				<ol>
					<li><input type="text" name="member1" value="Clemence" maxlength="10"></li>
					<li><input type="text" name="member2" value="Parnell" maxlength="10"></li>
					<li><input type="text" name="member3" value="Oswyn" maxlength="10"></li>
					<li><input type="text" name="member4"  value="Gilbert" maxlength="10"></li>
					<h4 class="next memberName">Enter Names</h4>
				</ol>
			</div>
		</section>
		<section>
			<div class="card" id="month">
				<h2>The year is 4934. what month will the crew be leaving Space Station Faithful.</h2>
				<ol>
					<li><h4 class="next april">April</h4></li>
					<li><h4 class="next may">May</h4></li>
					<li><h4 class="next june">June</h4></li>
					<li><h4 class="next july">July</h4></li>
				</ol>
			</div>
		</section>
		<section>
			<div class="card" id="money">
				<h3>Before you depart it is wise to stock up on supplies. You have §<span class="money"></span> to spend. Do not spend it all in one place.</h3>
				<h4 class="next enterStore">Enter Store</h4>
			</div>
		</section> 
		<section>
			<div class="card store" id="stationShop">
				<h2>Welcome to my store! Buy the best quality items in the galaxy here!</h2>
				<div class="row gutters">
					<div class="col-xs-12 col-md-6 itemList">
						<div class="item-row parts row flex">
							<p class="item col-xs-5">Spare Parts</p>
							<p class="cost col-xs-5">§100</p>
							<input class="col-xs-2" type="number" name="parts" maxlength="10" value="0">
						</div>
						<div class="item-row fuel">
							<p class="item col-xs-5">Fuel</p>
							<p class="cost col-xs-5">§50</p>
							<input class="col-xs-2" type="number" name="fuel" maxlength="10" value="0">
						</div>
						<div class="item-row food">
							<p class="item col-xs-5">Food</p>
							<p class="cost col-xs-5">§20</p>
							<input class="col-xs-2" type="number" name="food" maxlength="10" value="0">
						</div>
						<div class="item-row ammo">
							<p class="item col-xs-5">Ammo</p>
							<p class="cost col-xs-5">§20</p>
							<input class="col-xs-2" type="number" name="ammo" maxlength="10" value="0">
						</div>
					</div>
					<div class="col-xs-12 col-md-6 total">
						<p>Amount you have: §<span class="money"></span></p>
						<p>Bill so far: §<span class="bill"></span></p>
						<p>Ending amount: §<span class="total"></span></p>
					</div>
				</div>

				<h4 class="next exitStore">Purchase Items & Exit Store</h4>
			</div>
		</section> -->
		<section>
			<div class="program" id="departure">
				<div class="gameInteraction">
					<h3>You have a long journey ahead of you. Good Luck.</h3>
				</div>
				<div class="options row flex">
					<h4 class="next departure col-xs-12">Depart</h4>
				</div>
			</div>
		</section>
		<section>
			<div class="program">
				<div class="gameInteraction conditions">
					<p>Weather: <span class="weather"></span></p>
					<p>Pace: <span class="pace"></span></p>
					<p>Health: <span class="health"></span>/5</p>
					<p>Money: §<span class="money"></span></p>
					<p>Rations: <span class="rations"></span> lbs</p>
					<p>Ammo: <span class="ammo"></span> Energy Pods</p>
					<p>Fuel: <span class="fuel"></span> Gallons</p>
					<div class="dateCounter">
						<p><span class="month"></span> <span class="day"></span>
					</div>
				</div>

				<div class="progressConsole">
				</div>
				
				<div class="options travel row gutters">
					<h4 class="traverse col-xs-6 col-md-3">Continue Traversing</h4>
					<h4 class="check-supply col-xs-6 col-md-3">Check Supplies</h4>
					<h4 class="check-pace col-xs-6 col-md-3">Change Pace</h4>
					<h4 class="check-rations col-xs-6 col-md-3">Change Food Rations</h4>
					<!-- <h4 class="col-xs-6">Attempt to Trade</h4> -->
					<!-- <h4 class="col-xs-6">Buy Supplies</h4> -->
					
				</div>
				<div class="twoChoices">
					<h4 class="one col-xs-6"></h4>
					<h4 class="two col-xs-6"></h4>
				</div>
				<div class="oneChoices">
					<h4 class="one col-xs-6 offset-xs-3"></h4>
				</div>
				<div class="change-pace row guters">
					<h4 class="h4Ignore">Change pace to:</h4>
					<div class="col-xs-6 col-lg-3 pace-container">
						<h4 class="slow">Slow</h4>
						<p>A slower pace means fuel is conserved and uses only 5 gallons a day but you travel only a day of space.</p>
					</div>
					<div class="col-xs-6 col-lg-3 pace-container">
						<h4 class="moderate">Moderate</h4>
						<p>A slower pace means fuel is conserved and uses only 5 gallons a day but you travel only a day of space.</p>
					</div>
					<div class="col-xs-6 col-lg-3 pace-container">
						<h4 class="quick">Quick</h4>
						<p>A slower pace means fuel is conserved and uses only 5 gallons a day but you travel only a day of space.</p>
					</div>
					<div class="col-xs-6 col-lg-3 pace-container">
						<h4 class="fast">Fast</h4>
						<p>A slower pace means fuel is conserved and uses only 5 gallons a day but you travel only a day of space.</p>
					</div>
					<h4 class="set-pace">Set Pace</h4>
				</div>
			</div>
		</section>
	</div>
</body>
</html>